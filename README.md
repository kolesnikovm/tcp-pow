# TCP server with PoW DDoS protection

Сервер получения жизненной мудрости с защитой от DDoS атак по принципу Proof of Work.

### Логика работы

1. Клиент создает соединение с сервером и отправляет запрос на получение цитаты.
2. Если соединение новое или превышен лимит запросов, сервер запрашивает подтверждение работы.
3. Клиент решает задачу и отправляет подтверждение работы серверу.
4. Сервер проверяет решение и в случае успеха возвращает цитату.

### PoW алгоритм

В качестве алгоритма PoW выбран hashcash. В первую очередь из-за простоты реализации, что позволит создавать клиенты без привязки к платформам. В силу функционала сервиса, маловероятны DDoS атаки с использованием специализированного оборудования (ASIC), поэтому устойчивость алгоритма к подобным атакам не была определяющей.

При необходиомсти защиты от ASIC можно рассмотреть алгоритмы RandomX, Cuckoo Cycle или Equihash.

### Настройка

В файле `config.yaml` находятся параметры, регулирующие поведение PoW и клиента.

| Параметр | Описание |
|:-----|:-----------|
| `max_requests` | Максимальное количество запросов, которое может быть отправлено через одно соединение без подтверждения работы |
| `pow_difficulty` | Сложность задачи подтверждения работы |
| `concurrency` | Одновременное количетво клиентских соединений |

### Запуск

Для запуска необходимо выполнить команду 
`make demo`, после чего на [http://localhost:3000](http://localhost:3000/d/ee1d89upl2rcwb/tcp-pow) можно будет наблюдать количество запросов поступающих на сервер.
